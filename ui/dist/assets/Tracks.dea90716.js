import{P as k,F as b,G as D,A as P,E as w}from"./AddSong.49724916.js";import{_ as x,H,r as d,j as S,o as c,c as h,i as y,n as T,k as C,w as I,a as i,t as $,F as E,e as L,p as N,b as B,d as F,f as M}from"./index.ce547255.js";new H("reapOne.playlist",22);const V={components:{PlaylistEntry:k,FixedPlaylistHeader:b,GridHeader:D,AddSong:P,EditPlaylist:w},name:"LikedSongs",props:{authorised:Boolean,userData:Object},data(){return{fixedHeaderHidden:!0}},computed:{rawPlaylists(){var s,e;return((e=(s=this.userData)==null?void 0:s.data)==null?void 0:e.playlists)||[]},likedTracks(){return console.log(this.rawPlaylists),this.rawPlaylists.map(s=>s.songs).flat().filter(s=>s.favourite==1)},autogeneratedDescription(){var s,e,a;return`${(a=(e=(s=this.userData)==null?void 0:s.user)==null?void 0:e.userinfo)==null?void 0:a.name} \u2022 ${this.likedTracks.length} ${this.likedTracks.length==1?"song":"songs"}, ${this.estimatedDuration}`},estimatedDuration(){let s=0,e=!1;for(const n of this.likedTracks){e=e||n.duration=="-1:59";const u=n.duration=="-1:59"?"3:00":n.duration,[p,_]=u.split(":");s+=Number(p*60)+Number(_)}const a=s,o=Math.floor(a/60),r=Math.floor(o/60),l=e?"about ":"";return r?l+`${r} hr ${o-r*60} min`:o?l+`${o} min ${a-o*60} sec`:l+s+" sec"}},methods:{headerVisibilityChanged(s){this.fixedHeaderHidden=s},updateData(s){var e;if(s.path=="player.song"){let a=((e=s==null?void 0:s.data)==null?void 0:e.title)||"N/A";for(const o of this.playlist)o.playing=o.title==a}}}},f=s=>(N("data-v-399cf072"),s=s(),B(),s),A={class:"playlist"},q={class:"padding-20 playlisteditor"},G=M("Playlist"),O=f(()=>i("h1",null,"Liked Songs",-1)),R={class:"muted description"},U={class:"mobileMenu showIfMobile"},z=f(()=>i("hr",null,null,-1)),J={class:"padding-20"},K={class:"grid"},Q=f(()=>i("hr",null,null,-1)),W={class:"playlistEntries"};function X(s,e,a,o,r,l){const n=d("fixed-playlist-header"),u=d("h7"),p=d("grid-header"),_=d("playlist-entry"),g=S("observe-visibility");return c(),h("div",A,[y(n,{onLoadPlaylist:s.loadPlaylist,ref:"fixedHeading",class:T({hidden:r.fixedHeaderHidden}),title:"Liked Songs"},null,8,["onLoadPlaylist","class"]),C((c(),h("div",q,[y(u,null,{default:I(()=>[G]),_:1}),O,i("p",R,$(l.autogeneratedDescription),1)])),[[g,l.headerVisibilityChanged]]),i("div",U,[i("span",{onClick:e[0]||(e[0]=()=>s.$emit("toggleFullSidebar")),class:"material-symbols-rounded"},"menu")]),z,i("div",J,[i("span",{id:"loadPlaylist",onClick:e[1]||(e[1]=(...t)=>s.loadPlaylist&&s.loadPlaylist(...t)),class:"material-symbols-rounded"},"play_circle_filled"),i("div",K,[y(p,{class:"hideIfMobile"}),Q,i("div",W,[(c(!0),h(E,null,L(l.likedTracks,(t,m)=>(c(),F(_,{onDownload:s.download,key:m,onRequestUpdate:s.updatePlaylist,userData:a.userData,index:l.likedTracks.findIndex(v=>v.source==t.source),source:t.source,playing:t.playing,id:t.id,title:t.title,album:t.album,artist:t.artist,cover:t.cover,favourite:t.favourite,duration:t.duration},null,8,["onDownload","onRequestUpdate","userData","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))])])])])}var j=x(V,[["render",X],["__scopeId","data-v-399cf072"]]);export{j as default};
