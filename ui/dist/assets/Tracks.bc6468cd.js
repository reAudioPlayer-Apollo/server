import{P as m,F as b,G as P,A as w,E as H}from"./AddSong.28dda279.js";import{_ as D,H as x,r as t,j as C,o as l,c as n,i as c,n as S,k as I,w as L,a as i,F as T,e as B,p as E,b as F,d as V,f as N}from"./index.74aa632f.js";new x("reapOne.playlist",22);const A={components:{PlaylistEntry:m,FixedPlaylistHeader:b,GridHeader:P,AddSong:w,EditPlaylist:H},name:"LikedSongs",props:{authorised:Boolean,userData:Object},data(){return{fixedHeaderHidden:!0}},computed:{rawPlaylists(){var s,a;return((a=(s=this.userData)==null?void 0:s.data)==null?void 0:a.playlists)||[]},likedTracks(){return console.log(this.rawPlaylists),this.rawPlaylists.map(s=>s.songs).flat().filter(s=>s.favourite==1)}},methods:{headerVisibilityChanged(s){this.fixedHeaderHidden=s},updateData(s){var a;if(s.path=="player.song"){let o=((a=s==null?void 0:s.data)==null?void 0:a.title)||"N/A";for(const d of this.playlist)d.playing=d.title==o}}}},u=s=>(E("data-v-17a2a8e8"),s=s(),F(),s),M={class:"playlist"},q=N("Playlist"),G=u(()=>i("h1",null,"Liked Songs",-1)),O={class:"mobileMenu showIfMobile"},R=u(()=>i("hr",null,null,-1)),U={class:"padding-20"},z={class:"grid"},J=u(()=>i("hr",null,null,-1)),K={class:"playlistEntries"};function Q(s,a,o,d,p,r){const y=t("fixed-playlist-header"),_=t("h7"),h=t("grid-header"),f=t("playlist-entry"),v=C("observe-visibility");return l(),n("div",M,[c(y,{onLoadPlaylist:s.loadPlaylist,ref:"fixedHeading",class:S({hidden:p.fixedHeaderHidden}),title:"Liked Songs"},null,8,["onLoadPlaylist","class"]),I((l(),n("div",{class:"padding-20 playlisteditor",onClick:a[0]||(a[0]=(...e)=>s.editPlaylist&&s.editPlaylist(...e))},[c(_,null,{default:L(()=>[q]),_:1}),G])),[[v,r.headerVisibilityChanged]]),i("div",O,[i("span",{onClick:a[1]||(a[1]=()=>s.$emit("toggleFullSidebar")),class:"material-symbols-rounded"},"menu")]),R,i("div",U,[i("span",{id:"loadPlaylist",onClick:a[2]||(a[2]=(...e)=>s.loadPlaylist&&s.loadPlaylist(...e)),class:"material-symbols-rounded"},"play_circle_filled"),i("div",z,[c(h,{class:"hideIfMobile"}),J,i("div",K,[(l(!0),n(T,null,B(r.likedTracks,(e,g)=>(l(),V(f,{onDownload:s.download,key:g,onRequestUpdate:s.updatePlaylist,userData:o.userData,index:r.likedTracks.findIndex(k=>k.source==e.source),source:e.source,playing:e.playing,id:e.id,title:e.title,album:e.album,artist:e.artist,cover:e.cover,favourite:e.favourite,duration:e.duration},null,8,["onDownload","onRequestUpdate","userData","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))])])])])}var Y=D(A,[["render",Q],["__scopeId","data-v-17a2a8e8"]]);export{Y as default};
