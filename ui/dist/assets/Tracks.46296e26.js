import{P as k,F as D,G as C,A as w,E as H}from"./AddSong.50f4e2e3.js";import{_ as S,H as T,r as i,j as N,o as d,c as u,i as o,n as E,k as I,w as A,a as l,F as B,e as F,p as L,b as V,d as M,f as q}from"./index.b726a63d.js";new T("reapOne.playlist",22);const G={components:{PlaylistEntry:k,FixedPlaylistHeader:D,GridHeader:C,AddSong:w,EditPlaylist:H},name:"LikedSongs",props:{authorised:Boolean,userData:Object},data(){return{fixedHeaderHidden:!0}},computed:{rawPlaylists(){var s,e;return((e=(s=this.userData)==null?void 0:s.data)==null?void 0:e.playlists)||[]},likedTracks(){return console.log(this.rawPlaylists),this.rawPlaylists.map(s=>s.songs).flat().filter(s=>s.favourite==1)}},methods:{headerVisibilityChanged(s){this.fixedHeaderHidden=s},updateData(s){var e;if(s.path=="player.song"){let t=((e=s==null?void 0:s.data)==null?void 0:e.title)||"N/A";for(const r of this.playlist)r.playing=r.title==t}}}},p=s=>(L("data-v-3347dab2"),s=s(),V(),s),O={class:"playlist"},R=q("Playlist"),U=p(()=>l("h1",null,"Liked Songs",-1)),x={class:"mobileMenu showIfMobile"},z=p(()=>l("hr",null,null,-1)),J={class:"padding-20"},K={class:"grid"},Q=p(()=>l("hr",null,null,-1)),W={class:"playlistEntries"};function X(s,e,t,r,y,n){const c=i("AddSong"),_=i("EditPlaylist"),f=i("fixed-playlist-header"),h=i("h7"),v=i("grid-header"),m=i("playlist-entry"),P=N("observe-visibility");return d(),u("div",O,[o(c,{onClose:s.updatePlaylist,ref:"addSongPopup",userData:t.userData},null,8,["onClose","userData"]),o(_,{onClose:s.updatePlaylist,playlistName:s.playlistName,playlistDescription:s.playlistDescription,ref:"editPlaylistPopup",userData:t.userData},null,8,["onClose","playlistName","playlistDescription","userData"]),o(f,{onLoadPlaylist:s.loadPlaylist,ref:"fixedHeading",class:E({hidden:y.fixedHeaderHidden}),title:s.playlistName},null,8,["onLoadPlaylist","class","title"]),I((d(),u("div",{class:"padding-20 playlisteditor",onClick:e[0]||(e[0]=(...a)=>s.editPlaylist&&s.editPlaylist(...a))},[o(h,null,{default:A(()=>[R]),_:1}),U])),[[P,n.headerVisibilityChanged]]),l("div",x,[l("span",{onClick:e[1]||(e[1]=()=>s.$emit("toggleFullSidebar")),class:"material-symbols-rounded"},"menu")]),z,l("div",J,[l("span",{id:"loadPlaylist",onClick:e[2]||(e[2]=(...a)=>s.loadPlaylist&&s.loadPlaylist(...a)),class:"material-symbols-rounded"},"play_circle_filled"),l("span",{id:"addToPlaylist",onClick:e[3]||(e[3]=(...a)=>s.addToPlaylist&&s.addToPlaylist(...a)),class:"material-symbols-rounded"},"add_circle"),l("div",K,[o(v,{class:"hideIfMobile"}),Q,l("div",W,[(d(!0),u(B,null,F(n.likedTracks,(a,g)=>(d(),M(m,{onDownload:s.download,key:g,onRequestUpdate:s.updatePlaylist,userData:t.userData,index:n.likedTracks.findIndex(b=>b.source==a.source),source:a.source,playing:a.playing,id:a.id,title:a.title,album:a.album,artist:a.artist,cover:a.cover,favourite:a.favourite,duration:a.duration},null,8,["onDownload","onRequestUpdate","userData","index","source","playing","id","title","album","artist","cover","favourite","duration"]))),128))])])])])}var $=S(G,[["render",X],["__scopeId","data-v-3347dab2"]]);export{$ as default};
